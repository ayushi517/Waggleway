<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Waggle Way - Booking Confirmation</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/services.css">
    <link rel="stylesheet" href="../css/contact.css">
    <script src="../js/login.js"></script>
    <link rel="stylesheet" href="../css/confirmation.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header class="header">
        <a href="../index.html" class="logos"><i class="fas fa-dog"></i>Waggle<span>Way</span></a>
        <nav class="nav-bar">
            <a href="../index.html">Home</a>
            <a href="../pages/service.html">Services</a>
            <div class="dropdown">
                <a href="#" class="dropbtn" id="pricingBtn">Pricing</a>
                <div class="dropdown-content" id="pricingOptions">
                    <a href="../pages/pricing1.html" onclick="showPricing('basic')">Pet Grooming</a>
                    <a href="../pages/pricing2.html" onclick="showPricing('premium')">Pet Boarding & Sitting</a>
                    <a href="../pages/pricing3.html" onclick="showPricing('enterprise')">Pet Training</a>
                </div>
            </div>
            <a href="../pages/about.html">About Us</a>
            <a href="../pages/contact.html">Contact Us</a>
        </nav>
        <div class="accounts">
            <i id="menu-btn" class="fa-solid fa-user login-icon"></i>
            <div id="accountDropdown" class="dropdown-content-login">
                <!-- This will be dynamically populated by JavaScript -->
            </div>
        </div>
    </header>

    <div class="confirmation-container">
        <h2>Booking Confirmed</h2>
        <p>Thank you, <span id="username"></span>! Your booking has been received.</p>
        <p>Your Booking ID is: <span id="booking-id"></span></p>
        <p>Amount is: <span id="amount"></span></p>
        <p>Payment Status: <span id="payment-status"></span></p>
        <p>Your service type is: <span id="service-type"></span></p>
        <p>You will be redirected to the payment page shortly.</p>
        <a href="../pages/book_now.html" class="btn">Back to Booking Page</a>
    </div>

    <script>
        // Function to get query parameters from URL
        function getQueryParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        // Extract username, booking_id, and service_type from URL
        const username = getQueryParam('name');
        const bookingId = getQueryParam('booking_id');
        const serviceType = getQueryParam('service_type'); // Ensure this is included in the URL
        const amount = getQueryParam('amount'); 
        const paymentStatus = getQueryParam('payment_status');

        // Display username
        document.getElementById('username').textContent = username ? decodeURIComponent(username) : "Guest";

        // Display booking_id
        document.getElementById('booking-id').textContent = bookingId ? bookingId : "N/A";

        // Display service_type
        document.getElementById('service-type').textContent = serviceType ? decodeURIComponent(serviceType) : "N/A";
        document.getElementById('amount').textContent = amount ? `â‚¹${decodeURIComponent(amount)}` : "N/A";
        document.getElementById('payment-status').textContent = paymentStatus ? decodeURIComponent(paymentStatus) : "Pending";

        setTimeout(function() {
            if (bookingId) {
                window.location.href = `../pages/payment_gateway.php?booking_id=${encodeURIComponent(bookingId)}&service_type=${encodeURIComponent(serviceType)}&amount=${encodeURIComponent(amount)}`;
            } else {
                alert("Booking ID is missing.");
            }
        }, 5000);

    </script>

<section class="footer">
    <div class="footer-content">
        <h3 class="logos">
            <i class="fas fa-dog"></i> Waggle <span>Way</span>
        </h3>
        <p>WaggleWay is a pet caring shop where we provide facilities and various useful treatments. We offer massages, a good ground, expert staff, good facilities, and much more! Visit us anytime :). We are closed only on Thursday and our regular timings are 9:00AM to 10:00PM.</p>
        <ul class="socials">
            <li><a href="https://www.facebook.com/your-facebook-link" target="_blank"><i class="fa-brands fa-facebook"></i></a></li>
            <li><a href="https://www.instagram.com/your-instagram-link" target="_blank"><i class="fa-brands fa-instagram"></i></a></li>
            <li><a href="https://plus.google.com/your-google-plus-link" target="_blank"><i class="fa-brands fa-google-plus-g"></i></a></li>
            <li><a href="https://www.youtube.com/your-youtube-link" target="_blank"><i class="fa-brands fa-youtube"></i></a></li>
            <li><a href="https://www.linkedin.com/in/your-linkedin-link" target="_blank"><i class="fa-brands fa-linkedin"></i></a></li>
        </ul>
    </div>
</section>
<div class="footer-bottom">
    <p>Copyright &copy; 2024 <a href="#">Ayushi Panchal</a> - WaggleWay</p>
</div>

</body>
</html>
